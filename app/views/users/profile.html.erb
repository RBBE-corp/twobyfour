<div class="profile-banner">
  <div class="user-info">
    <img src="https://i.pravatar.cc/150?img=68?u=a042581f4e29026704d" class="avatar-md" alt="Free unsplash image">
    <div>
      <h4><strong><%= current_user.username %></strong></h4>
      <p class="text-secondary"><em><%= current_user.email %></em></p>
      <p class="text-secondary"><strong class="mr-2">Avg score</strong><em><%=current_user.avg_scores %></em></p>
    </div>
  </div>
</div>

<div class="container pb-5">
  <nav>
    <div class="nav justify-content-between nav-tabs border-0 user-tabs" id="nav-tab" role="tablist">
      <a class=" active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Compositions</a>
      <a class="" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Playlists</a>
      <a class="" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Flashcards</a>
    </div>
  </nav>
  <div class="tab-content shadow-lg mb-2 rounded bg-secondary p-2 mt-10" style="min-height: 100vh; id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
      <div class="mx-auto" style="min-height: 100vh;">
        <ul>


      <div class="row">
        <% @compositions.each do |composition| %>
          <div class="card-deck" style="width: 24rem;">
            <div class="container mt-4">
              <div class="col-sm mb-4">
                <% random_num = rand(10) %>
                <% image = "https://picsum.photos/500/300?random=r#{random_num}" %>
                  <div class="card">
                    <img class="card-img-top" src="<%=image%>" alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title"><%=composition.name %></h5>
                      <p class="card-text">Practiced: <%= composition.rep_count %> times</p>
                      <p class="card-text">Memory list: <%= composition.memory_list.name %></p>
                      <p><%= link_to "Practice", composition_path(composition), class: 'btn btn-secondary' %></p>
                    </div>

                    <div class="card-footer">
                      <small class="text-muted">Created: <%= composition.created_at.strftime("%a %b %e at %l:%M%p")  %></small>
                    </div>

                  </div>
              </div>
          </div>
       </div>
       <% end %>
        </ul>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
      <div class="mx-auto" style="min-height: 100vh;">
        <ul>
          <% @playlists.each do |playlist| %>
            <li><%= playlist.name %></li>
          <% end %>
        </ul>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
      <div class="mx-auto" style="min-height: 100vh;">
        <%# <h3><strong>Status</strong></h3> %>
        <p class="text-secondary"><strong>Rep Count: </strong><em>@scores.count</em></p>
        <strong>Scores</strong>
        <ul>
          <% @scores.each do |score| %>
            <li><%= score.score %>  <strong>- <%= score.composition.name %></strong></li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>
